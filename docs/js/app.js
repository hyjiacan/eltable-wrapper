(function(t){function e(e){for(var n,l,o=e[0],s=e[1],c=e[2],p=0,u=[];p<o.length;p++)l=o[p],i[l]&&u.push(i[l][0]),i[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);h&&h(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var s=a[o];0!==i[s]&&(n=!1)}n&&(r.splice(e--,1),t=l(l.s=a[0]))}return t}var n={},i={app:0},r=[];function l(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=n,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(a,n,function(e){return t[e]}.bind(null,n));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var h=s;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),i=a.n(n);i.a},"30b7":function(t,e,a){},"32fb":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("demo")],1)},r=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("el-tabs",[a("el-tab-pane",{attrs:{label:"本地数据"}},[a("el-table-wrapper",{attrs:{type:"l","local-data":t.localData,selection:"single","pager-position":"both","t-row-class-name":"customize-row-class","t-highlight-current-row":""},on:{select:t.onSelect}},[a("el-table-column",{attrs:{label:"ID",prop:"id"}}),a("el-table-column",{attrs:{label:"Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Dept.",prop:"dept"}}),a("el-table-column",{attrs:{label:"Remark"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n            "+t._s(a.remark)+"\n          ")]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"远程数据"}},[a("el-table-wrapper",{ref:"table",attrs:{url:"mock/data.json",ajax:t.ajax,"pager-position":"both","t-row-class-name":"customize-row-class","t-highlight-current-row":"","advance-selection":""},on:{select:t.onSelect,"selection-change":t.selectionChanged,"select-all":t.selectionChanged}},[a("el-table-column",{attrs:{type:"selection",prop:"checked"}}),a("el-table-column",{attrs:{label:"ID",prop:"id"}}),a("el-table-column",{attrs:{label:"Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Dept.",prop:"dept"}}),a("el-table-column",{attrs:{label:"Remark"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n            "+t._s(a.remark)+"\n          ")]}}])})],1)],1)],1)],1)},o=[],s=a("bc3a"),c=a.n(s),h={name:"Demo",data:function(){return{cache:[],localData:[]}},methods:{ajax:function(t){var e=this;return new Promise(function(a,n){c.a.request(t).then(function(t){a(t.data),e.cache=t.data,e.$refs.table.select(e.cache[2])}).catch(function(t){n(t.data)})})},onSelect:function(t,e){console.log(t,e)},selectionChanged:function(t){console.log(t.selection,t.type,t.changed,t.allSelected)}},mounted:function(){for(var t=this,e=[],a=0;a<99;a++)e.push({id:a,name:"name"+a,dept:"dept"+a,remark:"remark"+a});this.localData=e,setTimeout(function(){t.$refs.table.deselect(t.cache[2])},3e3)}},p=h,u=(a("76e9"),a("c4c4"),a("2877")),d=Object(u["a"])(p,l,o,!1,null,"ae78ce74",null),f=d.exports,g={name:"app",components:{Demo:f}},y=g,m=(a("034f"),Object(u["a"])(y,i,r,!1,null,null,null)),v=m.exports,b=a("5c96"),S=a.n(b),w=(a("0fae"),a("7f7f"),a("a481"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.data.loading,expression:"data.loading"}],staticClass:"el-table-wrapper",class:t.wrapperClass,attrs:{"element-loading-text":t.loadingText,"element-loading-spinner":t.loadingIcon,"element-loading-background":t.loadingColor}},[t.headerVisible?a("div",{staticClass:"el-table-wrapper-header",style:t.headerStyle},[a("div",{staticClass:"el-table-wrapper-header-text"},[t._t("header",[t.isMultipleSelection?[t.selectionData.cache.length?[t._v("\n            已选择 "+t._s(t.selectionData.cache.length)+" 项\n          ")]:[t._v("未选择项")]]:t._e()],{data:t.slotData})],2),a("pager",{directives:[{name:"show",rawName:"v-show",value:!t.pDisabled&&"bottom"!==t.pagerPosition,expression:"!pDisabled && pagerPosition !== 'bottom'"}],attrs:{position:"top"},scopedSlots:t._u([{key:"pagerPrepend",fn:function(e){var a=e.data;return t._t("pagerPrepend",null,{data:a})}},{key:"pagerSummary",fn:function(e){var a=e.data;return t._t("pagerSummary",null,{data:a})}},{key:"pagerAppend",fn:function(e){var a=e.data;return t._t("pagerAppend",null,{data:a})}}],null,!0)})],1):t._e(),a("div",{staticClass:"el-table-wrapper-content",style:t.contentStyle},[a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{height:"100%","highlight-current-row":t.tHighlightCurrentRow||"single"===t.selection,data:t.currentData,maxHeight:t.tMaxHeight,stripe:t.tStripe,border:t.tBorder,size:t.tSize,fit:t.tFit,"show-header":t.tShowHeader,"current-row-key":t.tCurrentRowKey,"row-class-name":t.tRowClassName,"row-style":t.tRowStyle,"cell-class-name":t.tCellClassName,"cell-style":t.tCellStyle,"header-row-class-name":t.tHeaderRowClassName,"header-row-style":t.tHeaderRowStyle,"header-cell-class-name":t.tHeaderCellClassName,"header-cell-style":t.tHeaderCellStyle,"row-key":t.tRowKey||t.getDataId,"empty-text":t.tEmptyText,"default-expand-all":t.tDefaultExpandAll,"expand-row-keys":t.tExpandRowKeys,"default-sort":t.tDefaultSort,"tooltip-effect":t.tTooltipEffect,"show-summary":t.tShowSummary,"sum-text":t.tSumText,"summary-method":t.tSummaryMethod,"span-method":t.tSpanMethod,"select-on-indeterminate":t.tSelectOnIndeterminate,indent:t.tIndent,lazy:t.tLazy,load:t.tLoad},on:{"current-change":t.onTableCurrentRowChanged,"selection-change":t.onTableSelectionChanged,"cell-mouse-enter":t.onCellMouseEnter,"cell-mouse-leave":t.onCellMouseLeave,"cell-click":t.onCellClick,"cell-dblclick":t.onCellDblclick,"row-click":t.onRowClick,"row-contextmenu":t.onRowContextmenu,"row-dblclick":t.onRowDblclick,"header-click":t.onHeaderClick,"header-contextmenu":t.onHeaderContextmenu,"sort-change":t.onSortChange,"filter-change":t.onFilterChange,"header-dragend":t.onHeaderDragend,"expand-change":t.onExpandChange}},[t._t("default"),t._t("empty",[t._v("\n        "+t._s(t.tEmptyText)+"\n      ")],{slot:"empty"}),t._t("append",null,{slot:"append"})],2)],1),t.pDisabled||"top"===t.pagerPosition?t._e():a("div",{staticClass:"el-table-wrapper-footer",style:t.footerStyle},[a("div",{staticClass:"el-table-wrapper-footer-text"},[t._t("footer",[t.isMultipleSelection?[t.selectionData.cache.length?[t._v("\n            已选择 "+t._s(t.selectionData.cache.length)+" 项\n          ")]:[t._v("未选择项")]]:t._e()],{data:t.slotData})],2),a("pager",{directives:[{name:"show",rawName:"v-show",value:!t.pDisabled&&"top"!==t.pagerPosition,expression:"!pDisabled && pagerPosition !== 'top'"}],attrs:{position:"bottom"},scopedSlots:t._u([{key:"pagerPrepend",fn:function(e){var a=e.data;return t._t("pagerPrepend",null,{data:a})}},{key:"pagerSummary",fn:function(e){var a=e.data;return t._t("pagerSummary",null,{data:a})}},{key:"pagerAppend",fn:function(e){var a=e.data;return t._t("pagerAppend",null,{data:a})}}],null,!0)})],1)])}),x=[],D=a("cebc"),_=(a("ac6a"),a("bd86")),C=a("7fae"),P=a.n(C),k=(a("c5f6"),{type:{type:String,default:"s"},idField:{type:[String,Array,Function],default:"id"},autoHeight:{type:Boolean,default:!1},advanceSelection:{type:Boolean,default:!1},customClass:{type:String},pagerPosition:{type:String,default:"bottom"},headerSize:{type:[String,Number],default:48},footerSize:{type:[String,Number],default:40},defaultId:{type:[String,Number],default:""},selection:{type:String},ajax:{type:Function},url:{type:String},method:{type:String,default:"get"},params:{type:Object},responseHandler:{type:Function},autoLoad:{type:Boolean,default:!0},paramIndex:{type:String,default:"pageIndex"},paramSize:{type:String,default:"pageSize"},totalField:{type:String,default:"total"},listField:{type:String,default:"list"},checkParams:{type:Function},loadWhenParamsChange:{type:Boolean,default:!1},pageSize:{type:[String,Number],default:10},index:{type:[String,Number],default:1},showPagerSummary:{type:Boolean,default:!0},localData:{type:Array},incSize:{type:[String,Number],default:80},paramInc:{type:String,default:"lastId"},incId:{type:[String,Array,Function]},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"Loading..."},loadingIcon:{type:String,default:"el-icon-loading"},loadingColor:{type:String,default:"rgba(249, 249, 249, 0.9)"},tMaxHeight:{type:[String,Number]},tStripe:{type:Boolean,default:!1},tBorder:{type:Boolean,default:!1},tSize:{type:String},tFit:{type:Boolean,default:!0},tShowHeader:{type:Boolean,default:!0},tCurrentRowKey:{type:[String,Number]},tRowClassName:{type:[String,Function]},tRowStyle:{type:[String,Function]},tCellClassName:{type:[String,Function]},tCellStyle:{type:[String,Function]},tHeaderRowClassName:{type:[String,Function]},tHeaderRowStyle:{type:[String,Function]},tHeaderCellClassName:{type:[String,Function]},tHeaderCellStyle:{type:[String,Function]},tRowKey:{type:[String,Function]},tEmptyText:{type:String,default:"暂无数据"},tDefaultExpandAll:{type:Boolean,default:!1},tExpandRowKeys:{type:Array},tDefaultSort:{type:Object,default:function(){return{order:"ascending"}}},tTooltipEffect:{type:String},tShowSummary:{type:Boolean,default:!1},tSumText:{type:String,default:"合计"},tSummaryMethod:{type:Function},tSpanMethod:{type:Function},tHighlightCurrentRow:{type:Boolean,default:!1},tSelectOnIndeterminate:{type:Boolean,default:!0},tIndent:{type:Number,default:16},tLazy:{type:Boolean},tLoad:{type:Function},pSmall:{type:Boolean,default:!1},pBackground:{type:Boolean,default:!1},pPagerCount:{type:Number,default:7},pLayout:{type:String,default:"prev, pager, next, jumper, ->, total"},pPageSizes:{type:Array,default:function(){return[10,20,30,40,50,100]}},pPopperClass:{type:String},pPrevText:{type:String},pNextText:{type:String},pDisabled:{type:Boolean,default:!1},pHideOnSinglePage:{type:Boolean}}),z=k,I=(a("55dd"),a("20d6"),{load:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t&&this.clear(),this.resetScroll(),this._loadRemoteData(),this},clear:function(){return this.data.cache=[],this.data.view=[],this.data.extra=null,this.data.count=0,this.pager.index=1,this.pager.count=0,this.selectionData.cache=[],this.selectionData.all={},this.selectionData.current={},this},info:function(){return{pageIndex:this.pager.index,pageCount:this.pager.count,pageSize:this.pager.size,dataSize:this.data.count,selected:this.selectionData.cache.length}},append:function(t){return Array.isArray(t)?this.data.cache=this.data.cache.concat(t):this.data.cache.push(t),this.data.count=this.data.cache.length,this.pager.count=Math.ceil(this.data.count/this.pager.size),this.data.view=this.data.cache,this},prepend:function(t){return Array.isArray(t)?this.data.cache=t.concat(this.data.cache):this.data.cache.unshift(t),this.data.count=this.data.cache.length,this.pager.count=Math.ceil(this.data.count/this.pager.size),this.data.view=this.data.cache,this},insert:function(t,e){return Array.isArray(t)?[].splice.apply(this.data.cache,[e,0].concat(t)):this.data.cache.splice(e,0,t),this.data.count=this.data.cache.length,this.pager.count=Math.ceil(this.data.count/this.pager.size),this.data.view=this.data.cache,this},remove:function(t){var e=this;return Array.isArray(t)||(t=[t]),t.forEach(function(t){var a=e.getDataId(t),n=e.data.cache.findIndex(function(t){return e.getDataId(t)===a});e.data.cache.splice(n,1),n=e.selectionData.cache.findIndex(function(t){return e.getDataId(t)===a}),e.selectionData.cache.splice(n,1)}),this.data.count=this.data.cache.length,this.pager.count=Math.ceil(this.data.count/this.pager.size),this.data.view=this.data.cache,this},update:function(t){var e=this;Array.isArray(t)||(t=[t]);var a={};t.forEach(function(t){a[e.getDataId(t)]=t});for(var n=t.length,i=0;i<this.data.cache.length;i++){var r=this.data.cache[i],l=this.getDataId(r);if(a.hasOwnProperty(l)&&(this.$set(this.data.cache,i,a[l]),delete a[l],n--,n<=0))break}return this},getDataId:function(t,e){var a=this;if(t){if(e=e||this.idField,"function"===typeof e)return e(t);if(!Array.isArray(e))return t.hasOwnProperty(e)||this._throwError('Field "'.concat(e,'" not found in data row, a valid "id-field" property is expected')),t[e];var n=t;return e.forEach(function(t){n.hasOwnProperty(t)||a._throwError('Field "'.concat(e.join("."),'" not found in data row, a valid "id-field" property is expected')),n=n[t]}),n}},select:function(t){var e=this,a=this.selectionData.all,n=this.selectionData.current,i=this.selectionData.cache;if(!this.isMultipleSelection){var r=this.getDataId(t);return this.selectionData.all=this.selectionData.current=Object(_["a"])({},r,t),void this._updateSelection()}return Array.isArray(t)||(t=[t]),t.forEach(function(t){var r=e.getDataId(t);a.hasOwnProperty(r)||(a[r]=t,n[r]=t,i.push(t))}),this._updateSelection(),this},selectAll:function(){if(!this.isMultipleSelection)return console.warn('ElTableWrapper: method "selectAll" only allowed for multiple selectionData'),[];var t=this.advanceSelection?this.data.cache:this.currentData;return this.select(t),t},deselect:function(t){var e=this;if(!this.isMultipleSelection)return this.selectionData.all=this.selectionData.current={},this.selectionData.cache=[],void this._updateSelection();Array.isArray(t)||(t=[t]);var a=this.selectionData.all,n=this.selectionData.current,i=this.selectionData.cache;return this.selectionData.ignore=!0,t.forEach(function(t){var r=e.getDataId(t);if(a.hasOwnProperty(r)){delete a[r],delete n[r];var l=i.findIndex(function(t){return e.getDataId(t)===r});i.splice(l,1)}e.$refs.table.toggleRowSelection(t,!1)}),this.selectionData.ignore=!1,this},deselectAll:function(){if(!this.isMultipleSelection)return console.warn('ElTableWrapper: method "deselectAll" only allowed for multiple selectionData'),[];var t=this.advanceSelection?this.data.cache:this.currentData;return this.deselect(t),t},getSelection:function(){return this.isMultipleSelection?[].concat(this.selectionData.cache):this.selectionData.cache[0]},clearSelection:function(){return this.selectionData.cache.length?(this.isMultipleSelection?this.$refs.table.clearSelection():this.$refs.table.setCurrentRow(),this):this},clearSort:function(){return this.$refs.table.clearSort(),this},clearFilter:function(t){return this.$refs.table.clearFilter(t),this},doLayout:function(){return this.$refs.table.doLayout(),this},sort:function(t,e){return this.$refs.table.sort(t,e),this}}),$=I,j=(a("456d"),{resetScroll:function(){var t=this.$el.querySelector(".el-table__body-wrapper");t&&(t.scrollTop=0)},onPageChanged:function(t){var e=this;this.pager.indexChanged=!0,this.data.extra&&"i"===this.type&&t===this.pager.count&&this.$nextTick(function(){e._loadIncData()}),this.pager.index!==t&&(this.resetScroll(),this.pager.index=t,this.$emit("update:index",t),this.$emit("page-index-change",t),"s"===this.type&&this._loadPagedData())},onSizeChanged:function(t){this.pager.size!==t&&(this.$emit("update:size",t),this.$emit("page-size-change",t),this.resetScroll(),this.pager.size=t,this._updatePageCount(),"s"===this.type&&this.load())},onTableCurrentRowChanged:function(t,e){if("single"===this.selection&&!this.selectionData.ignore&&!this.isMultipleSelection){if(this.pager.indexChanged){if(this.selectionData.current={},this.pager.indexChanged=!1,this.advanceSelection&&this.selectionData.cache.length)return;this.selectionData.cache=[],this.selectionData.all={}}this.selectionData.all=this.selectionData.current=Object(_["a"])({},this.getDataId(t),t),this.selectionData.cache=[t],this.$emit("select",t,e)}},onTableSelectionChanged:function(t){var e=this;if(this.isMultipleSelection&&!this.selectionData.ignore){var a=Object.keys(this.selectionData.current).length,n=a<t.length?"select":"deselect";if(this.pager.indexChanged)if(this.selectionData.current={},this.pager.indexChanged=!1,this.advanceSelection){if("deselect"===n&&a>0)return}else this.selectionData.cache=[],this.selectionData.all={};var i=[],r=this.selectionData.current,l=this.selectionData.all;if("select"===n)t.forEach(function(t){var a=e.getDataId(t);r.hasOwnProperty(a)||(r[a]=t,l.hasOwnProperty(a)||(l[a]=t,i.push(t)))}),this.selectionData.cache=this.selectionData.cache.concat(i);else{var o=Object.assign({},r);t.forEach(function(t){var a=e.getDataId(t);o.hasOwnProperty(a)&&delete o[a]});var s=function(t){if(!o.hasOwnProperty(t))return"continue";i.push(o[t]),delete r[t],delete l[t];var a=e.selectionData.cache.findIndex(function(a){return e.getDataId(a)===t});e.selectionData.cache.splice(a,1)};for(var c in o)s(c)}if(i.length){var h=this.selectionData.cache.length>0&&this.selectionData.cache.length===this.data.cache.length;this.$emit("selection-change",{selection:[].concat(this.selectionData.cache),type:n,changed:i,allSelected:h})}}},onCellMouseEnter:function(){var t=[].slice.apply(arguments);t.unshift("cell-mouse-enter"),this.$emit.apply(this,t)},onCellMouseLeave:function(){var t=[].slice.apply(arguments);t.unshift("cell-mouse-leave"),this.$emit.apply(this,t)},onCellClick:function(){var t=[].slice.apply(arguments);t.unshift("cell-click"),this.$emit.apply(this,t)},onCellDblclick:function(){var t=[].slice.apply(arguments);t.unshift("cell-dblclick"),this.$emit.apply(this,t)},onRowClick:function(){var t=[].slice.apply(arguments);t.unshift("row-click"),this.$emit.apply(this,t)},onRowContextmenu:function(){var t=[].slice.apply(arguments);t.unshift("row-contextmenu"),this.$emit.apply(this,t)},onRowDblclick:function(){var t=[].slice.apply(arguments);t.unshift("row-dblclick"),this.$emit.apply(this,t)},onHeaderClick:function(){var t=[].slice.apply(arguments);t.unshift("header-click"),this.$emit.apply(this,t)},onHeaderContextmenu:function(){var t=[].slice.apply(arguments);t.unshift("header-contextmenu"),this.$emit.apply(this,t)},onSortChange:function(){var t=[].slice.apply(arguments);t.unshift("sort-change"),this.$emit.apply(this,t)},onFilterChange:function(){var t=[].slice.apply(arguments);t.unshift("filter-change"),this.$emit.apply(this,t)},onHeaderDragend:function(){var t=[].slice.apply(arguments);t.unshift("header-dragend"),this.$emit.apply(this,t)},onExpandChange:function(){var t=[].slice.apply(arguments);t.unshift("expand-change"),this.$emit.apply(this,t)}}),O=j,E=function(){return{data:{cache:[],view:[],extra:null,count:0,loading:!1},selectionData:{current:{},all:{},cache:[],ignore:!1},pager:{size:10,index:1,count:0,indexChanged:!1},_ajaxParamsBuffer:null}},A=E,F={props:z,data:A,methods:Object(D["a"])({__init:function(){this._ajaxParamsBuffer=Object(D["a"])({},this.params),this.index&&(this.pager.index=parseInt(this.index),(this.pager.index<1||isNaN(this.pager.index))&&(this.pager.index=1)),this.pageSize&&(this.pager.size=parseInt(this.pageSize))},_throwError:function(t){throw new Error("ElTableWrapper: ".concat(t))},_checkProps:function(){isNaN(this.index)&&this._throwError('Invalid value for property "index", numeric required'),this.index<1&&this._throwError('Invalid value for property "index", expected equals or great than "1"');var t=["top","bottom","both"];-1===t.indexOf(this.pagerPosition)&&this._throwError('Invalid value for property "pager-position", available are: '+t.join(",")),"l"!==this.type&&(this.ajax||this._throwError('Property "ajax" must be specified while type is not "l"(local)'),this.url||this._throwError('Property "url" must be specified while type is not "l"(local)'))},_loadRemoteData:function(){"i"!==this.type?"s"!==this.type?this._throwError('"load" method not allowed while type is "l"(local)'):this._loadPagedData():this._loadIncData()},_sendAjax:function(t){return this.ajax(Object(_["a"])({url:this.url,method:this.method},this.ajaxParamsName,t))},_loadIncData:function(){var t,e=this,a=Object(D["a"])({},this.params,(t={},Object(_["a"])(t,this.paramInc,this._getLastId()),Object(_["a"])(t,this.paramSize,this.incSize),t));a=this._invokeCheckParams(a),!1!==a&&(this.data.loading=!0,this.$emit("update:loading",!0),this._sendAjax(a).then(function(t){if(t=e._invokeResponseHandler(t),t.length<=e.incSize)return e.append(t),e.data.extra=null,void e._updatePageCount();e.data.extra=t[e.incSize],e.append(t.slice(0,e.incSize)),e._updatePageCount(),1===e.pager.index&&1===e.pager.count&&"i"===e.type&&e.$nextTick(function(){e._loadIncData()})}).catch(function(t){e.$emit("ajax-error",t)}).finally(function(){e.data.loading=!1,e.$emit("update:loading",!1)}))},_loadPagedData:function(){var t,e=this,a=Object(D["a"])({},this.params,(t={},Object(_["a"])(t,this.paramIndex,this.pager.index-1),Object(_["a"])(t,this.paramSize,this.pager.size),t));a=this._invokeCheckParams(a),!1!==a&&(this.data.loading=!0,this.$emit("update:loading",!0),this._sendAjax(a).then(function(t){t=e._invokeResponseHandler(t),e.data.count=t[e.totalField],e.data.view=e.data.cache=t[e.listField]||[],e._updatePageCount()}).catch(function(t){e.$emit("ajax-error",t)}).finally(function(){e.data.loading=!1,e.$emit("update:loading",!1)}))},_invokeResponseHandler:function(t){return this.responseHandler?this.responseHandler(t):t},_invokeCheckParams:function(t){return this.checkParams?this.checkParams(t):t},_getLastId:function(){var t=this.data.extra;return t?this.getDataId(t,this.incIdField):this.defaultId},_updatePageCount:function(){var t=0;switch(this.type){case"s":t=this.data.count;break;case"i":case"l":t=this.data.view.length;break}t||(this.pager.count=0),this.pager.count=Math.ceil(t/this.pager.size),this.$emit("data-size-change",t)},_updateSelection:function(){var t=this;this.selectionData.cache.length&&(this.selectionData.ignore=!0,this.$nextTick(function(){var e=t.selectionData.cache;t.isMultipleSelection?e.forEach(function(e){t.$refs.table.toggleRowSelection(e,!0)}):e.length?t.$refs.table.setCurrentRow(e[0]):t.$refs.table.setCurrentRow(),t.$nextTick(function(){t.selectionData.ignore=!1})}))},_updateLocalData:function(t){this.clear(),t&&t.length&&this.append(this.localData)}},O,$),watch:{index:function(t){this.pager.index=t},size:function(t){this.pager.size=t},currentData:function(){this._updateSelection()},params:{deep:!0,handler:function(t){"l"!==this.type&&(this.loadWhenParamsChange&&!P()(this._ajaxParamsBuffer,t)&&this.load(),this._ajaxParamsBuffer=Object(D["a"])({},this.params))}},loading:function(t){this.data.loading=t},localData:function(t){this._updateLocalData(t)}},mounted:function(){this.__init(),this._checkProps(),"l"===this.type?this._updateLocalData(this.localData):this.autoLoad&&this._loadRemoteData()},computed:{wrapperClass:function(){var t={"el-table-wrapper-auto-height":this.autoHeight,"el-table-wrapper-header-visible":this.headerVisible,"el-table-wrapper-footer-visible":this.footerVisible};return this.customClass&&(t[this.customClass]=!0),t},headerStyle:function(){var t={height:this.headerVisible?"".concat(parseFloat(this.headerSize),"px"):0};return this.tBorder&&(t.borderBottomWidth=0),t},contentStyle:function(){return{top:this.headerVisible?"".concat(parseFloat(this.headerSize),"px"):0,bottom:this.footerVisible?"".concat(parseFloat(this.footerSize),"px"):0}},footerStyle:function(){return{height:this.footerVisible?"".concat(parseFloat(this.footerSize),"px"):0}},headerVisible:function(){return!this.pDisabled&&"bottom"!==this.pagerPosition||this.$slots.header},footerVisible:function(){return!this.pDisabled&&"top"!==this.pagerPosition||this.$slots.footer},currentData:function(){if(!this.data.view.length)return[];if(this.pDisabled)return this.data.view;if(this.pager.index>this.pager.count&&(this.pager.index=this.pager.count),"s"===this.type)return this.data.view;var t=(this.pager.index-1)*this.pager.size;return this.data.view.slice(t,t+this.pager.size)},incIdField:function(){return this.incId?Array.isArray(this.incId)?this.incId:[this.incId]:null},ajaxParamsName:function(){return/^(put|post|patch)$/.test(this.method)?"data":"params"},isMultipleSelection:function(){if(!this.$slots.default)return"multiple"===this.selection;var t=this.$slots.default.every(function(t){return!t.componentOptions||!t.componentOptions.propsData||"selection"!==t.componentOptions.propsData.type});return!t||"multiple"===this.selection},slotData:function(){var t=this;return{pageIndex:t.pager.index,pageCount:t.pager.count,pageSize:t.pager.size,dataSize:t.data.count,selected:t.selectionData.cache.length}}}},R=F,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el-table-wrapper-pager"},[a("div",{staticClass:"el-table-wrapper-pager-prepend"},[t._t("pagerPrepend",null,{data:t.slotData})],2),t.parent.showPagerSummary?[a("span",{staticClass:"el-table-wrapper-pager-summary"},[t._t("pagerSummary",[t.parent.loading?[t._v("正在加载...")]:"i"===t.parent.type&&t.parent.data.extra?[t._v("已加载 "+t._s(t.parent.data.count)+" 条数据")]:[t._v("共 "+t._s(t.parent.data.count)+" 条数据")]],{data:t.slotData})],2)]:t._e(),a("el-pagination",{attrs:{"page-size":t.parent.pager.size,"page-count":t.parent.pager.count,"current-page":t.parent.pager.index,small:t.parent.pSmall,background:t.parent.pBackground,pagerCount:t.parent.pPagerCount,layout:t.parent.pLayout,pageSizes:t.parent.pPageSizes,popperClass:t.parent.pPopperClass,prevText:t.parent.pPrevText,nextText:t.parent.pNextText,disabled:t.parent.pDisabled,hideOnSinglePage:t.parent.pHideOnSinglePage},on:{"current-change":t.parent.onPageChanged,"size-change":t.parent.onSizeChanged}}),a("div",{staticClass:"el-table-wrapper-pager-append"},[t._t("pagerAppend",null,{data:t.slotData})],2)],2)},T=[],M={name:"Pager",props:{position:{type:String,required:!0}},inject:["parent"],computed:{slotData:function(){return Object(D["a"])({},this.parent.slotData,{position:this.position})}}},N=M,B=Object(u["a"])(N,H,T,!1,null,"745b99ac",null),L=B.exports,V=(a("30b7"),Object(D["a"])({name:"ElTableWrapper",components:{Pager:L},provide:function(){return{parent:this}}},R)),W=V,K=Object(u["a"])(W,w,x,!1,null,null,null),q=K.exports;function J(t){for(var e in t)t.hasOwnProperty(e)&&(e=e.replace(/-[a-z]/g,function(t){return t[1].toUpperCase()}),q.props.hasOwnProperty(e)&&(q.props[e]["default"]=t[e]))}q.install=function(t,e){e&&J(e),t.component(q.name,q)};var U=q;n["default"].config.productionTip=!1,n["default"].use(S.a),n["default"].use(U,{method:"get",size:10,incSize:80,autoHeight:!1,type:"i",pLayout:"sizes, prev, pager, next"}),new n["default"]({render:function(t){return t(v)}}).$mount("#app")},"64a9":function(t,e,a){},"76e9":function(t,e,a){"use strict";var n=a("80d2"),i=a.n(n);i.a},"80d2":function(t,e,a){},c4c4:function(t,e,a){"use strict";var n=a("32fb"),i=a.n(n);i.a}});
//# sourceMappingURL=app.js.map